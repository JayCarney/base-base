<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Base Base - Baselining Template</title>
    <link href="https://fonts.googleapis.com/css?family=Lato|Montserrat|Open+Sans|Open+Sans+Condensed:300|Oswald|PT+Sans|Raleway|Roboto|Source+Sans+Pro|Noto+Sans:400" rel="stylesheet">
    <link rel="stylesheet" href="/css/examples.css">
</head>
<body>
    <p class="base-base-ratio-el debug" id="ratio-el">
        X
        <span class="base-base-ratio-el__size" id="ratio-el-size"></div>
    </p>
    
    <input style="margin-top: 20px;" id="ratio-check" value="30" type="number">
    <pre id="ratio-output">(0/72)</pre>

    <script>
        const ratioEl = document.querySelector('#ratio-el');
        const ratioSizeEl = document.querySelector('#ratio-el-size');
        const paddingEl = document.querySelector('#ratio-check');
        const output = document.querySelector('#ratio-output');

        const ratioElStyles = window.getComputedStyle(ratioEl);
        
        let lineHeight = ratioElStyles.getPropertyValue('line-height');
        let fontFamily = ratioElStyles.getPropertyValue('font-family');

        let padding = paddingEl.value;

        update = () => {
            output.innerHTML = `
$font-settings: (
    adjust-ratio: (${padding}/${parseInt(lineHeight)}), ${padding % 2 === 1 ? '// WARNING even numbers are recommended, try adding 1 to your value':''}
    manual-adjust: ()
);

@include register-font(${fontFamily}, $font-settings);
`;
        };

        update();

        sizeChange = (evt) => {
            padding = parseInt(paddingEl.value);
            ratioSizeEl.style.height = `${padding}px`;
            ratioSizeEl.style.top = `${parseInt((parseInt(lineHeight) - padding) / 2)}px`;
            update();
        };
        
        paddingEl.addEventListener("keyup", sizeChange);
        paddingEl.addEventListener("change", sizeChange);

        paddingEl.value = parseInt(window.getComputedStyle(ratioSizeEl).height);
        paddingEl.focus();
        sizeChange();
    </script>

    
</body>
</html>